# 개발 계획서

## 프로젝트 개요

축구 전술 전략 코치/감독용 웹 애플리케이션을 단계적으로 개발합니다. MVP부터 시작하여 점진적으로 기능을 확장합니다.

## 개발 단계

### Phase 1: 프로젝트 설정 및 기본 구조 (1주)

#### 목표
- 개발 환경 구축
- 프로젝트 초기화
- 기본 레이아웃 구성

#### 작업 내용

**1.1 프로젝트 초기화**
- [ ] Vite + React + TypeScript 프로젝트 생성
- [ ] 기본 폴더 구조 생성
- [ ] Git 저장소 초기화
- [ ] .gitignore 설정

**1.2 개발 환경 설정**
- [ ] ESLint 설정
- [ ] Prettier 설정
- [ ] TypeScript 설정 (strict mode)
- [ ] Tailwind CSS 설정
- [ ] Husky + lint-staged 설정

**1.3 기본 의존성 설치**
```bash
npm install react react-dom
npm install react-konva konva
npm install zustand
npm install idb
npm install -D @types/react @types/react-dom
npm install -D typescript vite
npm install -D tailwindcss postcss autoprefixer
npm install -D eslint prettier
```

**1.4 기본 레이아웃 구현**
- [ ] App.tsx 기본 구조
- [ ] Header 컴포넌트 (기본)
- [ ] Sidebar 컴포넌트 (기본)
- [ ] MainContent 영역
- [ ] BottomPanel 컴포넌트 (기본)
- [ ] 반응형 레이아웃 (CSS Grid/Flexbox)

**1.5 기본 스토어 설정**
- [ ] Zustand 스토어 구조 생성
- [ ] TacticalBoardStore 기본 구조
- [ ] SessionStore 기본 구조
- [ ] UIStore 기본 구조

**산출물:**
- 프로젝트 구조 완성
- 기본 레이아웃 화면
- 개발 서버 실행 확인

---

### Phase 2: 전술 보드 기본 기능 (2주)

#### 목표
- Canvas 전술판 구현
- 선수 배치 기능
- 기본 도형 그리기

#### 작업 내용

**2.1 축구장 배경 구현**
- [ ] 축구장 배경 레이어 컴포넌트
- [ ] 축구장 라인 그리기 (중앙선, 페널티 박스, 골 에어리어 등)
- [ ] 축구장 크기 및 비율 설정
- [ ] 배경 색상 커스터마이징

**2.2 React-Konva 기본 설정**
- [ ] Stage 컴포넌트 설정
- [ ] Layer 분리 (Background, Shape, Player)
- [ ] 좌표 시스템 설정
- [ ] 이벤트 핸들링 기본 구조

**2.3 선수 아이콘 컴포넌트**
- [ ] PlayerIcon 컴포넌트 구현
- [ ] 선수 아이콘 디자인 (Circle + Text)
- [ ] 선수 속성 표시 (등번호, 이름)
- [ ] 색상 커스터마이징

**2.4 선수 배치 기능**
- [ ] 사이드바에서 선수 추가 폼
- [ ] 선수 드래그 앤 드롭 구현
- [ ] 선수 배치 시 좌표 저장
- [ ] 선수 목록 표시

**2.5 선수 이동 및 편집**
- [ ] 선수 드래그로 이동
- [ ] 선수 클릭 선택
- [ ] 선택된 선수 하이라이트
- [ ] 선수 속성 편집 (등번호, 이름, 포지션)
- [ ] 선수 삭제 기능

**2.6 기본 도형 그리기 - 화살표**
- [ ] 화살표 도구 선택
- [ ] 화살표 그리기 (시작점, 끝점)
- [ ] 화살표 스타일 설정 (색상, 두께)
- [ ] 화살표 선택 및 편집
- [ ] 화살표 삭제

**2.7 기본 도형 그리기 - 선**
- [ ] 직선 그리기
- [ ] 곡선 그리기 (베지어 곡선)
- [ ] 선 스타일 설정
- [ ] 선 편집 및 삭제

**2.8 기본 도형 그리기 - 영역**
- [ ] 사각형 영역 그리기
- [ ] 원형 영역 그리기
- [ ] 영역 채우기 옵션
- [ ] 영역 편집 및 삭제

**2.9 객체 선택 시스템**
- [ ] 클릭으로 객체 선택
- [ ] 선택된 객체 하이라이트
- [ ] 다중 선택 (Shift + 클릭)
- [ ] 영역 선택 (드래그)
- [ ] 선택 해제 (ESC, 빈 공간 클릭)

**2.10 속성 패널**
- [ ] 선택된 객체 속성 표시
- [ ] 속성 편집 폼
- [ ] 속성 변경 시 실시간 업데이트

**산출물:**
- 작동하는 전술 보드
- 선수 배치 및 이동 기능
- 기본 도형 그리기 기능

---

### Phase 3: 애니메이션 기능 (2주)

#### 목표
- 애니메이션 엔진 구현
- 타임라인 편집기
- 애니메이션 재생

#### 작업 내용

**3.1 애니메이션 데이터 모델**
- [ ] Animation 인터페이스 정의
- [ ] Keyframe 인터페이스 정의
- [ ] 애니메이션 상태 관리 (AnimationStore)

**3.2 키프레임 시스템**
- [ ] 키프레임 추가 기능
- [ ] 키프레임에서 선수/도형 상태 저장
- [ ] 키프레임 간 보간 (interpolation)
- [ ] 키프레임 편집 및 삭제

**3.3 애니메이션 엔진**
- [ ] 애니메이션 재생 루프 구현
- [ ] requestAnimationFrame 활용
- [ ] 프레임별 상태 업데이트
- [ ] 선형 보간 (Linear Interpolation)
- [ ] 이징 함수 (Easing Functions)

**3.4 타임라인 컴포넌트**
- [ ] 타임라인 UI 구현
- [ ] 키프레임 표시
- [ ] 현재 재생 위치 표시
- [ ] 타임라인 스크러빙 (드래그로 시간 이동)
- [ ] 타임라인 줌 인/아웃

**3.5 재생 컨트롤**
- [ ] 재생/일시정지 버튼
- [ ] 정지 버튼
- [ ] 이전/다음 프레임 버튼
- [ ] 재생 속도 조절
- [ ] 반복 재생 옵션

**3.6 애니메이션 모드 전환**
- [ ] 편집 모드 ↔ 애니메이션 모드 전환
- [ ] 애니메이션 모드에서 객체 잠금
- [ ] 애니메이션 경로 시각화

**3.7 선수 이동 경로 표시**
- [ ] 키프레임 간 선수 이동 경로 계산
- [ ] 경로를 점선으로 표시
- [ ] 경로에 화살표 표시 (이동 방향)
- [ ] 경로 표시 on/off 옵션

**산출물:**
- 작동하는 애니메이션 시스템
- 타임라인 편집기
- 애니메이션 재생 기능

---

### Phase 4: 세션 관리 및 데이터 저장 (1주)

#### 목표
- 세션 CRUD 기능
- 로컬 저장소 연동
- 데이터 불러오기

#### 작업 내용

**4.1 세션 데이터 모델**
- [ ] Session 인터페이스 정의
- [ ] Tactic 인터페이스 정의
- [ ] 데이터 직렬화/역직렬화

**4.2 IndexedDB 설정**
- [ ] idb 라이브러리 설정
- [ ] 데이터베이스 스키마 정의
- [ ] 데이터베이스 초기화

**4.3 저장 서비스 구현**
- [ ] StorageService 클래스
- [ ] 세션 저장 함수
- [ ] 전술 저장 함수
- [ ] 자동 저장 기능 (30초마다)
- [ ] 수동 저장 기능

**4.4 세션 목록 화면**
- [ ] 세션 목록 컴포넌트
- [ ] 세션 카드 UI
- [ ] 세션 썸네일 생성
- [ ] 세션 검색 기능
- [ ] 세션 정렬 (날짜, 이름)

**4.5 세션 생성 및 편집**
- [ ] 새 세션 생성 폼
- [ ] 세션 이름/설명 입력
- [ ] 세션 정보 편집
- [ ] 세션 삭제 (확인 다이얼로그)

**4.6 세션 불러오기**
- [ ] 세션 선택 및 불러오기
- [ ] 전술 보드 상태 복원
- [ ] 현재 작업 저장 확인
- [ ] 최근 세션 목록

**4.7 전술 관리**
- [ ] 전술 저장 기능
- [ ] 전술 목록 표시
- [ ] 전술 불러오기
- [ ] 전술 복사
- [ ] 전술 삭제

**4.8 저장 상태 표시**
- [ ] 저장 상태 UI (저장됨/저장 중/미저장)
- [ ] 저장 성공/실패 알림
- [ ] 자동 저장 인디케이터

**산출물:**
- 완전한 세션 관리 시스템
- 로컬 저장소 연동
- 데이터 영속성

---

### Phase 5: 고급 기능 및 폴리싱 (1주)

#### 목표
- UI/UX 개선
- 성능 최적화
- 추가 기능 구현

#### 작업 내용

**5.1 포메이션 템플릿**
- [ ] 기본 포메이션 정의 (4-4-2, 4-3-3, 3-5-2 등)
- [ ] 포메이션 선택 UI
- [ ] 포메이션 적용 기능
- [ ] 홈/어웨이 팀 구분

**5.2 줌/팬 기능**
- [ ] 마우스 휠 줌 인/아웃
- [ ] 줌 슬라이더
- [ ] 스페이스 + 드래그로 팬
- [ ] "전체 보기" 버튼
- [ ] 줌 레벨 제한

**5.3 격자 시스템**
- [ ] 격자 표시 옵션
- [ ] 격자 간격 설정
- [ ] 스냅 투 그리드 기능
- [ ] 격자 스타일 커스터마이징

**5.4 실행 취소/다시 실행**
- [ ] 작업 히스토리 관리
- [ ] Undo 기능 (Ctrl+Z)
- [ ] Redo 기능 (Ctrl+Y)
- [ ] 히스토리 스택 관리 (최대 50개)

**5.5 키보드 단축키**
- [ ] 단축키 시스템 구현
- [ ] 주요 기능 단축키 할당
- [ ] 단축키 도움말 모달
- [ ] 단축키 충돌 방지

**5.6 이미지 내보내기**
- [ ] Canvas를 이미지로 변환
- [ ] PNG/JPG 형식 선택
- [ ] 해상도 옵션
- [ ] 다운로드 기능

**5.7 JSON 내보내기/가져오기**
- [ ] 세션 데이터 JSON 직렬화
- [ ] JSON 파일 다운로드
- [ ] JSON 파일 업로드 및 파싱
- [ ] 데이터 검증
- [ ] 병합/덮어쓰기 옵션

**5.8 UI/UX 개선**
- [ ] 로딩 상태 표시
- [ ] 에러 메시지 개선
- [ ] 툴팁 추가
- [ ] 애니메이션 전환 효과
- [ ] 다크 모드 완성도 향상

**5.9 성능 최적화**
- [ ] React.memo 적용
- [ ] useMemo, useCallback 최적화
- [ ] Canvas 리렌더링 최소화
- [ ] 메모리 누수 확인 및 수정
- [ ] 번들 크기 최적화

**5.10 테스트 작성**
- [ ] 주요 유틸리티 함수 테스트
- [ ] 커스텀 훅 테스트
- [ ] 서비스 함수 테스트
- [ ] 컴포넌트 스냅샷 테스트

**산출물:**
- 완성도 높은 MVP
- 최적화된 성능
- 사용자 친화적 UI

---

## 마일스톤

### Milestone 1: 프로젝트 설정 완료 (1주 후)
- 개발 환경 구축 완료
- 기본 레이아웃 구현
- 개발 서버 실행 확인

### Milestone 2: 전술 보드 기본 기능 완료 (3주 후)
- 선수 배치 및 이동 가능
- 기본 도형 그리기 가능
- 객체 선택 및 편집 가능

### Milestone 3: 애니메이션 기능 완료 (5주 후)
- 애니메이션 생성 및 재생 가능
- 타임라인 편집 가능
- 전술 움직임 시뮬레이션 가능

### Milestone 4: 세션 관리 완료 (6주 후)
- 세션 생성/저장/불러오기 가능
- 데이터 영속성 확보
- 완전한 워크플로우 구현

### Milestone 5: MVP 완성 (7주 후)
- 모든 핵심 기능 구현
- UI/UX 개선 완료
- 성능 최적화 완료
- 테스트 작성 완료

---

## 위험 관리

### 기술적 위험

**위험 1: Canvas 성능 이슈**
- **확률**: 중간
- **영향**: 높음
- **대응**: 레이어 분리, 최적화 기법 적용, 필요 시 WebGL 고려

**위험 2: IndexedDB 호환성**
- **확률**: 낮음
- **영향**: 중간
- **대응**: 폴백으로 localStorage 사용, 브라우저 지원 확인

**위험 3: 복잡한 애니메이션 로직**
- **확률**: 중간
- **영향**: 중간
- **대응**: 단계적 구현, 라이브러리 활용 검토

### 일정 위험

**위험 4: 일정 지연**
- **확률**: 중간
- **영향**: 중간
- **대응**: 우선순위 조정, MVP 범위 조정

**위험 5: 요구사항 변경**
- **확률**: 중간
- **영향**: 중간
- **대응**: 유연한 아키텍처, 변경 관리 프로세스

---

## 품질 보증

### 코드 품질
- ESLint 규칙 준수
- TypeScript strict mode
- 코드 리뷰 필수
- 일관된 코딩 스타일

### 테스트
- 단위 테스트 커버리지 70% 이상
- 주요 기능 통합 테스트
- 수동 테스트 체크리스트

### 문서화
- 코드 주석 (JSDoc)
- README 업데이트
- 사용자 가이드 (향후)

---

## 배포 계획

### 개발 환경
- 로컬 개발 서버
- Hot Module Replacement

### 스테이징 환경 (향후)
- 테스트 배포
- 사용자 피드백 수집

### 프로덕션 환경
- 정적 호스팅 (Vercel/Netlify)
- CDN 배포
- 도메인 연결

---

## 향후 확장 계획

### Phase 6: 협업 기능 (향후)
- 실시간 공유
- WebSocket 통합
- 사용자 인증

### Phase 7: 클라우드 저장 (향후)
- 백엔드 API 개발
- 클라우드 동기화
- 멀티 디바이스 지원

### Phase 8: 모바일 앱 (향후)
- React Native 또는 PWA
- 터치 제스처 최적화
- 모바일 UI/UX

---

## 리소스 및 도구

### 개발 도구
- VS Code
- Chrome DevTools
- React DevTools
- Redux DevTools (Zustand용)

### 디자인 도구
- Figma (UI 디자인)
- 색상 팔레트 도구
- 아이콘 라이브러리

### 문서화 도구
- Markdown
- Mermaid (다이어그램)
- JSDoc

---

## 성공 기준

### 기능적 요구사항
- [ ] 모든 MVP 기능 구현 완료
- [ ] 주요 유저 스토리 완료
- [ ] 버그 없는 안정적인 동작

### 비기능적 요구사항
- [ ] 60fps 애니메이션 성능
- [ ] 반응 시간 < 100ms
- [ ] 주요 브라우저 호환성
- [ ] 반응형 디자인

### 사용자 경험
- [ ] 직관적인 UI
- [ ] 학습 곡선 최소화
- [ ] 사용자 피드백 수집 및 반영
