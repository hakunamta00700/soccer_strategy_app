# Soccer Strategy App - Cursor Rules

## 언어 및 커뮤니케이션
- 항상 한국어로 응답
- 코드 주석은 한국어로 작성
- 변수명과 함수명은 영어로 작성 (camelCase)
- UI 텍스트는 한국어로 작성

## 프로젝트 개요
이 프로젝트는 React + TypeScript + Vite 기반의 축구 전술 보드 애플리케이션입니다.
- 상태 관리: Zustand
- 캔버스 렌더링: Konva (react-konva)
- 스타일링: Tailwind CSS
- 데이터 저장: IndexedDB (idb)

## 코드 스타일

### TypeScript
- `strict: true` 모드 준수
- 모든 함수와 변수에 타입 명시
- `any` 타입 사용 최소화 (필요시 `unknown` 사용)
- 인터페이스는 `I` 접두사 없이 PascalCase 사용
- 타입 정의는 `src/types/` 디렉토리에 분리

### React
- 함수형 컴포넌트만 사용
- 커스텀 훅은 `use` 접두사 사용
- Props 타입은 인터페이스로 정의
- 컴포넌트는 PascalCase로 명명
- 파일명은 컴포넌트명과 동일하게 작성

### 상태 관리 (Zustand)
- Store는 `src/store/` 디렉토리에 위치
- Store 파일명은 `*Store.ts` 형식
- Store 훅은 `use*Store` 형식으로 명명
- 상태와 액션을 명확히 분리
- 불변성 유지 (immer 패턴 적용)

### 스타일링
- Tailwind CSS 클래스 우선 사용
- 커스텀 스타일은 `src/styles/` 디렉토리에 위치
- 반응형 디자인 고려 (mobile-first)
- 다크 모드 지원 (gray-700, gray-600 등 사용)

### 파일 구조
```
src/
  components/     # React 컴포넌트
  store/          # Zustand 스토어
  types/          # TypeScript 타입 정의
  utils/          # 유틸리티 함수
  constants/      # 상수 정의
  styles/         # 전역 스타일
```

## Path Aliases
다음 path aliases를 사용:
- `@/*` → `src/*`
- `@components/*` → `src/components/*`
- `@store/*` → `src/store/*`
- `@types/*` → `src/types/*`
- `@utils/*` → `src/utils/*`
- `@constants/*` → `src/constants/*`

## 코딩 규칙

### 네이밍
- 컴포넌트: PascalCase (`TacticalBoard.tsx`)
- 함수/변수: camelCase (`getPlayerPosition`)
- 상수: UPPER_SNAKE_CASE (`MAX_PLAYERS`)
- 타입/인터페이스: PascalCase (`Player`, `Shape`)

### 함수 작성
- 함수는 단일 책임 원칙 준수
- 복잡한 로직은 유틸리티 함수로 분리
- 함수는 가능한 작게 유지
- 매직 넘버/문자열은 상수로 추출

### 에러 처리
- 에러는 명확한 메시지와 함께 처리
- 사용자에게 친화적인 에러 메시지 표시
- 개발 환경에서는 콘솔에 상세 에러 로그 출력

### 성능 최적화
- React.memo() 적절히 사용 (불필요한 리렌더링 방지)
- useMemo, useCallback 적절히 활용
- Konva 컴포넌트는 최적화된 렌더링 고려
- 큰 리스트는 가상화 고려

## Git 커밋 메시지

### 중요: Windows 환경에서 한글 커밋 메시지
- 절대 터미널에서 직접 `-m` 옵션으로 한글 입력하지 말 것
- 커밋 메시지는 UTF-8 파일로 작성 후 `git commit -F` 사용
- 인코딩 설정 확인: `git config --global i18n.commitEncoding utf-8`

### 커밋 메시지 포맷
```
<type>: <subject>

<body>

<footer>
```

### Type 접두사
- `feat`: 새로운 기능
- `fix`: 버그 수정
- `docs`: 문서 변경
- `style`: 코드 포맷 수정
- `refactor`: 리팩토링
- `perf`: 성능 개선
- `test`: 테스트 코드
- `chore`: 기타 작업
- `ci`: CI/CD 관련

## 특정 라이브러리 가이드라인

### Konva (react-konva)
- 캔버스 요소는 `Layer`로 그룹화
- 성능을 위해 불필요한 리렌더링 방지
- 이벤트 핸들러는 적절히 최적화
- 좌표 변환 시 주의 (pan, zoom 고려)

### Zustand
- Store는 도메인별로 분리
- 복잡한 상태 업데이트는 immer 패턴 사용
- 액션은 명확한 이름 사용
- Undo/Redo 기능은 스냅샷 패턴 사용

### IndexedDB (idb)
- 비동기 작업은 async/await 사용
- 에러 핸들링 필수
- 트랜잭션 적절히 사용

## 코드 리뷰 체크리스트
- [ ] TypeScript 타입 오류 없음
- [ ] ESLint 경고 없음
- [ ] 불필요한 console.log 제거
- [ ] 주석이 필요한 복잡한 로직에 주석 추가
- [ ] 컴포넌트가 적절히 분리되어 있음
- [ ] 성능 최적화 고려됨
- [ ] 접근성 고려됨 (가능한 경우)

## 개발 워크플로우
1. 기능 개발 전 관련 타입 정의 확인/추가
2. 필요한 경우 Store에 상태/액션 추가
3. 컴포넌트 구현
4. 스타일링 적용
5. 테스트 및 디버깅
6. ESLint/Prettier 실행 확인

## 주의사항
- 절대 하드코딩된 값 사용 지양 (상수로 추출)
- 컴포넌트 간 props drilling 최소화 (Store 활용)
- 메모리 누수 주의 (이벤트 리스너 정리 등)
- IndexedDB 작업은 에러 핸들링 필수
